<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>lib_math: export/timer/timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lib_math
   &#160;<span id="projectnumber">1.3.0</span>
   </div>
   <div id="projectbrief">A mathematics extension library primarily designed for robot kinematics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('timer_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Design some interfaces for time counting.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;typeinfo&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
</div>
<p><a href="timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacemmath"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemmath.html">mmath</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8bd797d58f825f2d9da2c509bd1da8af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a8bd797d58f825f2d9da2c509bd1da8af">MMATH_TIMER_COUNT_VOID_FUNC_TIME</a>(FUNC,  DURATION,  FMT, ...)</td></tr>
<tr class="separator:a8bd797d58f825f2d9da2c509bd1da8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8955d25482ba1055b597c8130ad9498f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a8955d25482ba1055b597c8130ad9498f">MMATH_TIMER_COUNT_NONVOID_FUNC_TIME</a>(FUNC,  DURATION,  RET,  FMT, ...)</td></tr>
<tr class="separator:a8955d25482ba1055b597c8130ad9498f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a24e411c8797707f3744c44aec22ba149"><td class="memItemLeft" align="right" valign="top"><a id="a24e411c8797707f3744c44aec22ba149"></a>
std::chrono::steady_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a24e411c8797707f3744c44aec22ba149">mmath::timer::getCurrentTimePoint</a> ()</td></tr>
<tr class="memdesc:a24e411c8797707f3744c44aec22ba149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current time point Class std::chrono::steady_clock represents a monotonic clock. The time points of this clock cannot decrease as physical time moves forward and the time between ticks of this clock is constant. This clock is not related to wall clock time (for example, it can be time since last reboot), and is most suitable for measuring intervals. <br /></td></tr>
<tr class="separator:a24e411c8797707f3744c44aec22ba149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e61aed262fb573901743034da3d6191"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a9e61aed262fb573901743034da3d6191">mmath::timer::getDurationSince</a> (const ::std::chrono::steady_clock::time_point &amp;start_time_point)</td></tr>
<tr class="memdesc:a9e61aed262fb573901743034da3d6191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the duration since the start time point, evaluated by milliseconds.  <a href="timer_8h.html#a9e61aed262fb573901743034da3d6191">More...</a><br /></td></tr>
<tr class="separator:a9e61aed262fb573901743034da3d6191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380dfeea45945b854158a755484acc03"><td class="memTemplParams" colspan="2">template&lt;typename Tp  = std::chrono::milliseconds&gt; </td></tr>
<tr class="memitem:a380dfeea45945b854158a755484acc03"><td class="memTemplItemLeft" align="right" valign="top">Tp&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="timer_8h.html#a380dfeea45945b854158a755484acc03">mmath::timer::getCurrentTimePointSinceEpoch</a> ()</td></tr>
<tr class="memdesc:a380dfeea45945b854158a755484acc03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get tcurrent time point since epoch. This time counter is not stable than steady clock. Thus, <a class="el" href="timer_8h.html#a24e411c8797707f3744c44aec22ba149" title="Return current time point Class std::chrono::steady_clock represents a monotonic clock....">getCurrentTimePoint()</a> is recommended.  <a href="timer_8h.html#a380dfeea45945b854158a755484acc03">More...</a><br /></td></tr>
<tr class="separator:a380dfeea45945b854158a755484acc03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51eb20fe508a8903394edf65ead16b6"><td class="memTemplParams" colspan="2">template&lt;typename Tp  = std::chrono::milliseconds&gt; </td></tr>
<tr class="memitem:aa51eb20fe508a8903394edf65ead16b6"><td class="memTemplItemLeft" align="right" valign="top">float&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="timer_8h.html#aa51eb20fe508a8903394edf65ead16b6">mmath::timer::getDurationSince</a> (const Tp &amp;start_time_point)</td></tr>
<tr class="memdesc:aa51eb20fe508a8903394edf65ead16b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the duration since a start time point returned by <a class="el" href="timer_8h.html#a380dfeea45945b854158a755484acc03" title="Get tcurrent time point since epoch. This time counter is not stable than steady clock....">getCurrentTimePointSinceEpoch()</a>  <a href="timer_8h.html#aa51eb20fe508a8903394edf65ead16b6">More...</a><br /></td></tr>
<tr class="separator:aa51eb20fe508a8903394edf65ead16b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71d3a4259328391df72d137758da353"><td class="memItemLeft" align="right" valign="top">inline ::std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#aa71d3a4259328391df72d137758da353">mmath::timer::getCurrentTimeStr</a> ()</td></tr>
<tr class="memdesc:aa71d3a4259328391df72d137758da353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current time string, as "YYmmdd_HHMMSS" format.  <a href="timer_8h.html#aa71d3a4259328391df72d137758da353">More...</a><br /></td></tr>
<tr class="separator:aa71d3a4259328391df72d137758da353"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Design some interfaces for time counting. </p>
<hr  />
 <pre class="fragment">               Mathematics extension library                    
</pre><p> Description: <br  />
 This file is part of lib_math. You can redistribute it and or modify it to construct your own project. It is wellcome to use this library in your scientific research work.</p>
<dl class="section author"><dt>Author</dt><dd>Longfei Wang</dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019/12/14</dd></dl>
<p>@license MIT</p>
<p>Copyright (C) 2019-Now Longfei Wang.</p>
<hr  />
<p> Change History: <br  />
</p>
<hr  />
 </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8955d25482ba1055b597c8130ad9498f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8955d25482ba1055b597c8130ad9498f">&#9670;&nbsp;</a></span>MMATH_TIMER_COUNT_NONVOID_FUNC_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMATH_TIMER_COUNT_NONVOID_FUNC_TIME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FUNC, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DURATION, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">RET, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FMT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>{  \</div>
<div class="line">            auto start = <a class="code" href="timer_8h.html#a24e411c8797707f3744c44aec22ba149">mmath::timer::getCurrentTimePoint</a>();\</div>
<div class="line">            RET = FUNC;\</div>
<div class="line">            float ms = <a class="code" href="timer_8h.html#a9e61aed262fb573901743034da3d6191">mmath::timer::getDurationSince</a>(start); \</div>
<div class="line">            if (ms &gt; DURATION) { printf(<span class="stringliteral">&quot;[%.4f ms] elapsed:\t &quot;</span> FMT, ms, ##__VA_ARGS__);} \</div>
<div class="line">     } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="atimer_8h_html_a24e411c8797707f3744c44aec22ba149"><div class="ttname"><a href="timer_8h.html#a24e411c8797707f3744c44aec22ba149">mmath::timer::getCurrentTimePoint</a></div><div class="ttdeci">std::chrono::steady_clock::time_point getCurrentTimePoint()</div><div class="ttdoc">Return current time point Class std::chrono::steady_clock represents a monotonic clock....</div><div class="ttdef"><b>Definition:</b> timer.h:50</div></div>
<div class="ttc" id="atimer_8h_html_a9e61aed262fb573901743034da3d6191"><div class="ttname"><a href="timer_8h.html#a9e61aed262fb573901743034da3d6191">mmath::timer::getDurationSince</a></div><div class="ttdeci">float getDurationSince(const ::std::chrono::steady_clock::time_point &amp;start_time_point)</div><div class="ttdoc">Get the duration since the start time point, evaluated by milliseconds.</div><div class="ttdef"><b>Definition:</b> timer.h:62</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FUNC</td><td>The function to be timed </td></tr>
    <tr><td class="paramname">DURATION</td><td>The time duration tolerance </td></tr>
    <tr><td class="paramname">RET</td><td>The returned value from FUNC </td></tr>
    <tr><td class="paramname">FMT,...</td><td>The message to be printed if the time comsumption greate than the DURATION </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8bd797d58f825f2d9da2c509bd1da8af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd797d58f825f2d9da2c509bd1da8af">&#9670;&nbsp;</a></span>MMATH_TIMER_COUNT_VOID_FUNC_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMATH_TIMER_COUNT_VOID_FUNC_TIME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FUNC, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DURATION, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FMT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>{ \</div>
<div class="line">            auto start = <a class="code" href="timer_8h.html#a24e411c8797707f3744c44aec22ba149">mmath::timer::getCurrentTimePoint</a>();\</div>
<div class="line">            FUNC;\</div>
<div class="line">            float ms = <a class="code" href="timer_8h.html#a9e61aed262fb573901743034da3d6191">mmath::timer::getDurationSince</a>(start); \</div>
<div class="line">            if (ms &gt; DURATION) { printf(<span class="stringliteral">&quot;[%.4f ms] elapsed:\t &quot;</span> FMT, ms, ##__VA_ARGS__);} \</div>
<div class="line">     } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FUNC</td><td>The function to be timed </td></tr>
    <tr><td class="paramname">DURATION</td><td>The time duration tolerance </td></tr>
    <tr><td class="paramname">FMT,...</td><td>The message to be printed if the time comsumption greate than the DURATION </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a380dfeea45945b854158a755484acc03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a380dfeea45945b854158a755484acc03">&#9670;&nbsp;</a></span>getCurrentTimePointSinceEpoch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Tp  = std::chrono::milliseconds&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Tp mmath::timer::getCurrentTimePointSinceEpoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get tcurrent time point since epoch. This time counter is not stable than steady clock. Thus, <a class="el" href="timer_8h.html#a24e411c8797707f3744c44aec22ba149" title="Return current time point Class std::chrono::steady_clock represents a monotonic clock....">getCurrentTimePoint()</a> is recommended. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Tp</td><td>The unit of the time, default is std::chrono::milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The time duration represented by Tp </dd></dl>

</div>
</div>
<a id="aa71d3a4259328391df72d137758da353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa71d3a4259328391df72d137758da353">&#9670;&nbsp;</a></span>getCurrentTimeStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">inline ::std::string mmath::timer::getCurrentTimeStr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current time string, as "YYmmdd_HHMMSS" format. </p>
<dl class="section return"><dt>Returns</dt><dd>::std::string </dd></dl>

</div>
</div>
<a id="a9e61aed262fb573901743034da3d6191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e61aed262fb573901743034da3d6191">&#9670;&nbsp;</a></span>getDurationSince() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mmath::timer::getDurationSince </td>
          <td>(</td>
          <td class="paramtype">const ::std::chrono::steady_clock::time_point &amp;&#160;</td>
          <td class="paramname"><em>start_time_point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the duration since the start time point, evaluated by milliseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_time_point</td><td>The start time point returned by <a class="el" href="timer_8h.html#a24e411c8797707f3744c44aec22ba149" title="Return current time point Class std::chrono::steady_clock represents a monotonic clock....">getCurrentTimePoint()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The time duration represented by std::chrono::milliseconds </dd></dl>

</div>
</div>
<a id="aa51eb20fe508a8903394edf65ead16b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa51eb20fe508a8903394edf65ead16b6">&#9670;&nbsp;</a></span>getDurationSince() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Tp  = std::chrono::milliseconds&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">float mmath::timer::getDurationSince </td>
          <td>(</td>
          <td class="paramtype">const Tp &amp;&#160;</td>
          <td class="paramname"><em>start_time_point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the duration since a start time point returned by <a class="el" href="timer_8h.html#a380dfeea45945b854158a755484acc03" title="Get tcurrent time point since epoch. This time counter is not stable than steady clock....">getCurrentTimePointSinceEpoch()</a> </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Tp</td><td>The unit of the time, default is std::chrono::milliseconds, and only should be one of [nanoseconds, microseconds, milliseconds, seconds, minutes] for now </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_time_point</td><td>The start time point returned by <a class="el" href="timer_8h.html#a380dfeea45945b854158a755484acc03" title="Get tcurrent time point since epoch. This time counter is not stable than steady clock....">getCurrentTimePointSinceEpoch()</a> </td></tr>
    <tr><td class="paramname">unit</td><td>The time evaluated unit, default is std::chrono::milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float The time duration represented by milliseconds </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_65956747a6f6d37dadfdcf67b1aa1faa.html">export</a></li><li class="navelem"><a class="el" href="dir_43b0ffb2bd7ee35e4ea17a5cd7148fa5.html">timer</a></li><li class="navelem"><a class="el" href="timer_8h.html">timer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
